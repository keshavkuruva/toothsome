%div
  %ul.breadcrumb
    %li
      %a{:href => clients_path} Clients
      %span.divider /
    %li
      %a{:href => client_path(@client)} #{@client.name}
      %span.divider /
    %li
      %a{:href => products_path(:cid => @client)} Products
      %span.divider /
    %li
      %a{:href => product_path(@product)}
        = @product.name
      %span.divider /
    %li.active Edit

= simple_form_for(@product, :url => product_path(@product), :html => {:class => 'form-horizontal', :method => :put }) do |f|
  %fieldset.well
    = display_base_errors @product
    = f.input :name, required: true, autofocus: true, input_html: {class: "input-xlarge"}
    = f.input :sku, :required => true, input_html: {class: "input-xlarge"}
    = f.simple_fields_for @product_price do |p|
      = p.input :price, required: true, input_html: {class: "input-xlarge"}
      = p.input :discount, input_html: {class: "input-xlarge"}
      = p.input :valid_from, as: :string, input_html: {id: "date_from_field"}
      = p.input :valid_to, as: :string, input_html: {id: "date_to_field"}
    = f.input :description, as: :text,  required: true, input_html: {class: "input-xlarge", rows: "5"}   
    - if @product.photo?
      = image_tag @product.photo.url(:medium)
    = f.file_field :photo
    = f.input :status, as: :boolean, required: true
    = f.button :submit, 'Update', :class => 'btn-primary'
